#!/usr/bin/python3

import sys
import math

def factorize(number):
    """
    """
    root_number = int(math.sqrt(number))

    if number % 2 == 0:
        return (number // 2), 2

    if number % 3 == 0:
        return (number // 3), 3

    for factor in range(5, root_number + 1, 6):
        if number % factor == 0:
            return (number // factor), factor
        elif number % (factor + 2) == 0:
            return (number // (factor + 2)), (factor + 2)

    return number, 1

def print_usage_and_exit():
    """
    """
    print("Usage: factors <file>")
    sys.exit(1)

def file_process(filename):
    """
    """
    with open(filename, 'r') as file:
        for line in file:
            number = int(line)
            factors = factorize(number)
            print("{}={}*{}".format(number, factors[0], factors[1]))

def main():
    if len(sys.argv) != 2:
        print_usage_and_exit()

    filename = sys.argv[1]

    file_process(filename)

if __name__ == "__main__":
    main()
